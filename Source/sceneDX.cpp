//==============================================================================
// タイトル     :   DirectX用描画用クラス
// ファイル名   :   sceneDX.cpp
// 作成者       :   AT13B284 21 数藤凌哉
// 作成日       :   2016/04/19
//==============================================================================

//==============================================================================
// 更新履歴: -2016/04/19 数藤凌哉
//           ・制作開始
//==============================================================================

//==============================================================================
// インクルードファイル
//==============================================================================
#include "sceneDX.h"
#include "main.h"

//==============================================================================
// 列挙型宣言
//==============================================================================

//==============================================================================
// マクロ定義
//==============================================================================

//==============================================================================
// 構造体宣言
//==============================================================================

//==============================================================================
// プロトタイプ宣言
//==============================================================================

//==============================================================================
// グローバル宣言
//==============================================================================

//==============================================================================
// 関数名 : CSceneDX()
// 引数   : void
// 戻り値 : void
// 説明   : コンストラクタ
//==============================================================================
CSceneDX::CSceneDX()
{
	m_pPolygon = NULL;
}

//==============================================================================
// 関数名 : ~CSceneDX()
// 引数   : void
// 戻り値 : void
// 説明   : デストラクタ
//==============================================================================
CSceneDX::~CSceneDX()
{
}

//==============================================================================
// 関数名 : bool Init( void )
// 引数   : void
// 戻り値 : void
// 説明   : 初期化処理
//==============================================================================
bool CSceneDX::Init( void )
{
	bool bResult = false;

	m_pPolygon = new CPolygon;
	bResult = m_pPolygon -> Init();

	if( bResult == false )
	{
		return false;	// 処理失敗
	}

	return true;	// 処理成功
}

//==============================================================================
// 関数名 : void Uninit( void )
// 引数   : void
// 戻り値 : void
// 説明   : 終了処理
//==============================================================================
void CSceneDX::Uninit( void )
{
	if( m_pPolygon != NULL )
	{
		m_pPolygon -> Uninit();
		delete m_pPolygon;
		m_pPolygon = NULL;
	}
}

//==============================================================================
// 関数名 : void Update( void )
// 引数   : void
// 戻り値 : void
// 説明   : 更新処理
//==============================================================================
void CSceneDX::Update( void )
{
	m_pPolygon -> Update();
}

//==============================================================================
// 関数名 : void Draw( void )
// 引数   : void
// 戻り値 : void
// 説明   : 描画処理
//==============================================================================
void CSceneDX::Draw( void )
{
	CRenderer* pRenderer = GetManager()->GetRenderer();

	if( pRenderer -> BeginScene() == true )
	{
		/* ===各オブジェクトの描画=== */
		m_pPolygon -> Draw();

		/* ===描画終了=== */
		pRenderer -> EndScene();
		pRenderer -> SwapBuffer();
	}
}

//==============================================================================
// 関数名 : CRendererDX()
// 引数   : void
// 戻り値 : void
// 説明   : コンストラクタ
//==============================================================================
